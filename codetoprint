#include <iostream>
using namespace std;

struct Node{
    char data;
    Node *next;
};

int length(Node *head){
    int count = 0;
    Node *temp = head->next;
    while(temp != NULL){
        temp = temp->next;
        count++;
    }
    return count;
}

void insertAfterPosition(Node* head, int position, char value){
    int len = length(head);
    if(len < position){
        cout << "Invalid position." << endl;
        return;
    }

    Node* newNode = new Node;
    newNode->data = value;
    newNode->next = NULL;

    if(position == 0){
        newNode->next = head->next;
        head->next = newNode;
    } else {
        Node *first = new Node;
        Node *second = new Node;
        Node *temp = new Node;
        temp->data = value;
        temp->next = NULL;

        first = head->next;
        second = head->next;
        
        for(int i = 1; i < position; i++){
            first = first->next;
        }
        for(int i = 0; i < position; i++){
            second = second->next;
        }

        first->next = temp;
        temp->next = second;
    }
}

void displayList(Node* head){
    Node *temp = head->next;
    while(temp != NULL){
        cout << temp->data << " ";
        temp = temp->next;
    }
    cout << endl;
}

int main(){
    int n;
    cin >> n;

    Node *head = new Node;
    head->next = NULL;

    Node *temp = head;

    for(int i = 0; i < n; i++){
        char ch;
        cin >> ch;
        Node *newNode = new Node;
        newNode->data = ch;
        newNode->next = NULL;
        temp->next = newNode;
        temp = temp->next;
    }

    int position;
    cin >> position;
    char value;
    cin >> value;

    insertAfterPosition(head, position, value);

    cout << "Updated list" << endl;
    displayList(head);

    return 0;
}