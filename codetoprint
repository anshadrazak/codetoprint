NODE insertAtEnd(NODE head, int item) {
    NODE newNode = getnode();
    newNode->data = item;
    if (head == nullptr) {
        newNode->link = newNode;
        return newNode;
    }

    NODE temp = head;
    while (temp->link != head) {
        temp = temp->link;
    }

    temp->link = newNode;
    newNode->link = head;
    return head;
}

NODE deleteAtPosition(NODE head, int position) {
    if (head == nullptr) {
        cout << "Invalid position." << endl;
        return head;
    }

    NODE temp = head;

    // deleting at position 1 (head)
    if (position == 1) {
        if (temp->link == head) { 
            delete temp;
            return nullptr;
        }

        while (temp->link != head) {
            temp = temp->link;
        }

        NODE toDelete = head;
        head = head->link;
        temp->link = head;
        delete toDelete;
        return head;
    }

    // moving to (position - 1)
    for (int i = 1; i < position - 1; i++) {
        temp = temp->link;
        if (temp->link == head) {
            cout << "Invalid position." << endl;
            return head;
        }
    }

    NODE toDelete = temp->link;
    if (toDelete == head) {
        cout << "Invalid position." << endl;
        return head;
    }

    temp->link = toDelete->link;
    delete toDelete;
    return head;
}